---
layout: post
title: ssh walkthrough
categories: [ssh]
---

어렵지 않다.

먼저 서버 컴퓨터에서는 ssh 서버를 실행시켜줘야 한다.

```
sudo apt install openssh-server
```
한 다음에 실행시켜주면 된다

```
sudo service ssh start
```

실행이 되고 있는지 체크하고 싶으면,

```
netstat -atn
```
을 실행한다. 여기에서 포트 22 번을 쓰고 있으면 확인된 것이다.

그 다음에 다음으로 ip 주소를 알아낸다.

```
ip addr
```
그리고 사용자 이름을 알아낸다.

```
whoami
```

그리고 다른 기기를 사용하여 다음과 같은 명령어를 쓴다.

```
ssh <whoami>@<ipaddr> -p 22
```
그러면 그 서버의 비밀번호를 요구할 것이다. 그것으로 들어가면 끝!

이제 사설 ip 주소 말고 공인으로도 접속할 수 있도록 하자.

가장 먼저 브라우저로 `192.168.0.1`을 접속해 로그인을 하자. 그러면 아래에 공인 ip 주소가 뜬다.

이제 <ipaddr>를 그것으로 쓰면 된다.

그리고 포트 포워딩을 해야 한다. 포트포워딩에서 http, tcp로 설정하고, 원하는 공인 ip 포트 번호와 연결시키고 싶은 사설 ip 포트 번호를 맵핑 한다.

예를 들어 1234:30을 6789:40에 맞춰 놓으면, 내가 ssh user@1234 -p 30 을 하면, ssh user@6789 -p 40으로 연결시켜준다.

